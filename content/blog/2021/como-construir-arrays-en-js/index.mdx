---
title: C√≥mo construir arrays en JavaScript
date: 2021-09-24
description: En JavaScript hay m√°s de una forma de construir un array. En este art√≠culo podr√°s ver a base de ejemplos cada una de las maneras posibles.
tags: [javascript, arrays, basics]
cover: ./cover.png
draft: false
---

<TLDR >
  Hay varias formas de crear arrays en JavaScript:

```javascript
// Array literal
["pizza", "sandwich"];

// Constructor de Array
// // Cuando tiene un √∫nico par√°metro y es un n√∫mero
// // se crea una array con la longitud que se l
// // ha pasado al constructor con todos los elementos vac√≠os
new Array(3); // [ , , ]
// // Con cualquier otro par√°metro o con varios par√°metros
// // crea un array con los par√°metros pasados
// // (Usar new es completamente opcional)
Array(1, 2, 3, 4, 5); // [ 1, 2, 3, 4, 5 ]

// Array.from
// // Convierte un iterable o un array-like object en un array
Array.from("Hola!"); // ['H', 'o', 'l', 'a', '!']
Array.from(new Set([1, 2, 3, 4, 5, 4, 3, 2, 1])); // [ 1, 2, 3, 4, 5 ]
Array.from({ length: 4, 0: "foo" }); // [ 'foo', , , ]

// Array.of
// // Funciona igual que el constructor de Array
// // a excepci√≥n de que se comporta siempre igual.
// // Si le pasas un √∫nico par√°metro y es un n√∫mero
// // crear√° un array de un solo elemento con
// // el n√∫mero que le has pasado como valor
Array.of(5); // [ 5 ]
```

</TLDR>

## Tabla de contenidos

```toc
exclude: Tabla de contenidos
```

## ¬øQu√© es un array?

En JavaScript los arrays son objetos que contienen una lista de valores con m√©todos para poder recorrerla, mutarla o generar nuevas listas. Tanto su longitud como el tipo de elementos que contiene es variable. El array sigue el [protocolo iterable de JavaScript](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Iteration_protocols). Todo array es un iterable, pero no todo iterable es un array. Otros iterables en JavaScript son las cadenas de texto, Set, Map o los generadores.

## C√≥mo crear un array

Un array se puede crear de diferentes maneras:

### Expresando el array ([Array literals](https://developer.mozilla.org/es/docs/Web/JavaScript/Guide/Grammar_and_types#arreglos_literales))

Directamente expresando el array con los valores que queramos incluir. Tambi√©n al tener longitud variable podemos instanciarlo vac√≠o para posteriormente rellenarlo, ya que el rellenarlo su longitud ir√° aumentando.

<JavaScriptRepl
  title="Array literal"
  init={[
    "const food = ['pizza', 'sandwich']",
    "food.length",
    "const emptyArray = []",
    "emptyArray.length",
  ]}
/>

### Usando el constructor Array

El constructor de Array se comporta de una manera u otra dependiendo del n√∫mero y tipo de par√°metros que reciba. Si le pasamos s√≥lo un par√°metro y este par√°metro es un n√∫mero, entonces instanciar√° un array con la longitud del n√∫mero que le hayamos pasado y todos sus posiciones estar√°n vac√≠as.

En caso de que le pasemos m√°s de un par√°metro o si el √∫nico par√°metro que le pasamos no es un n√∫mero, instanciar√° un nuevo array con los elementos que le hemos pasado y su longitud ser√° igual al n√∫mero de par√°metros que le hemos pasado. Por cierto, usar la palabra reservada **_new_ es completamente opcional**.

<JavaScriptRepl
  title="Constructor de Array"
  init={[
    "const numberArray = new Array(5)",
    "const stringArray = new Array('foo')",
    "const fibonacciNumbers = new Array(1,1,2,3,5,8,13)",
  ]}
/>

### Array.from

Este m√©todo fue introducido en ES2015 y funciona a modo de factor√≠a convirtiendo iterables y cosas parecidas a un array (tambi√©n conocidos como array-like objects) como los NodeList a un array para poder usar sus m√©todos y trabajar con ellos con mayor comodidad.

<JavaScriptRepl
  title="Array.from"
  init={[
    "const mapExample = new Map().set('first',1).set('second',2)",
    "Array.from(mapExample)",
    "Array.from(mapExample.values())",
    "Array.from('Hola!')",
    "Array.from(new Set([1,2,3,4,5,4,3,2,1]))",
  ]}
/>

Un array no deja de ser un objeto con una propiedad `length` y claves num√©ricas para los √≠ndices, por lo que no es tan extra√±o pensar que puedes hacer esto con `Array.from`:

<JavaScriptRepl
  title="Array.from"
  init={["Array.from({length: 4, 0: 'foo'})"]}
/>

### Array.of

Funciona exactamente igual que el constructor Array, pero con una sutil diferencia que lo hace m√°s coherente: cuando le pasas un n√∫mero como √∫nico argumento en vez de crear un array con una longitud igual al n√∫mero dado, crear√° un array con ese n√∫mero como √∫nico elemento.

<JavaScriptRepl
  title="Array.of"
  init={[
    "const numberArray = Array.of(5)",
    "const stringArray = Array.of('foo')",
    "const fibonacciNumbers = Array.of(1,1,2,3,5,8,13)",
  ]}
/>

## Conclusi√≥n

Como vemos tenemos varias opciones a la hora de crear un array en JavaScript. En mi d√≠a a d√≠a lo que m√°s hago para crear arrays es creando un _array literal_ o usando `Array.from`. Prefiero el _array literal_ porque por un lado escribo menos c√≥digo y por otro lado es como la mayor√≠a de las personas que programan en JavaScript lo declaran, por lo que si otra persona lee mi c√≥digo lo entender√°. **Al final escribimos c√≥digo para que lo lean personas, no s√≥lo para m√°quinas**.

El `Array.from` lo uso sobre todo cuando necesito pasar un iterable o array-like object a array para trabajar con √©l. Tambi√©n lo uso para hacer cosas como esta y tratar de parecer m√°s inteligente ‚òïÔ∏èüßê:

<JavaScriptRepl
  title="Array.from fancy"
  init={[
    "Array.from({length: 5}).map((_, index) => `${'*'.repeat(index + 1)}`)",
  ]}
/>

Adem√°s, `Array.from` es bastante legible, lo puedes leer casi como si fuera lenguaje natural. Y si no has entendido de qu√© va ese `.map` no te preocupes, estoy preparando m√°s entradas en las que explicar√© todo lo que s√© sobre los arrays en JavaScript.
